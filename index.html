<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="" />
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="browsehappy">
        You are using an <strong>outdated</strong> browser. Please
        <a href="#">upgrade your browser</a> to improve your experience.
      </p>
    <![endif]-->
    <h3>Rock Paper Scissors Game</h3>
    <button onclick="playRound('rock')" id="rock">Rock</button>
    <button onclick="playRound('paper')" id="paper">Paper</button>
    <button onclick="playRound('scissors')" id="scissors">Scissors</button>
    <p id="computer"></p>
    <p id="human"></p>
    <br />

    <hr />

    <p id="roundResult"></p>

    <br />

    <hr />
    <p id="score"></p>
    <br />
    <hr />
    <p id="output"></p>

    <script async defer>
      let humanScore = 0;
      let computerScore = 0;

      function getComputerChoice() {
        const choices = ["rock", "paper", "scissors"];
        const randomIndex = Math.floor(Math.random() * choices.length);
        const computer = document.getElementById("computer");
        computer.textContent = "the computer chose " + choices[randomIndex];
        return choices[randomIndex];
      }

      function playRound(humanChoice) {
        const computerChoice = getComputerChoice();
        const score = document.getElementById("score");
        const roundResult = document.getElementById("roundResult");

        console.log("Human chose: " + humanChoice);
        const human = document.getElementById("human");
        computer.textContent = "the computer chose " + humanChoice;
        console.log("Computer chose: " + computerChoice);

        if (humanChoice === computerChoice) {
          console.log("It's a tie!");
          roundResult.textContent = "It's a tie!";
        } else if (
          (humanChoice === "rock" && computerChoice === "scissors") ||
          (humanChoice === "scissors" && computerChoice === "paper") ||
          (humanChoice === "paper" && computerChoice === "rock")
        ) {
          console.log("You win this round!");
          roundResult.textContent = "You win this round!";

          humanScore++;
        } else {
          console.log("Computer wins this round!");
          computerScore++;
          roundResult.textContent = "Computer wins this round!";
        }

        console.log(
          "Score: Human: " + humanScore + " | Computer: " + computerScore
        );

        score.textContent =
          "Score: Human: " + humanScore + " | Computer: " + computerScore;

        checkWinner();
      }

      function checkWinner() {
        let resultat;
        if (humanScore === 3) {
          console.log("Congratulations! You won the game!");
          resultat = "Congratulations! You won the game!";
          output.textContent = resultat;

          resetGame();
        } else if (computerScore === 3) {
          console.log("Sorry, the computer won the game!");

          resultat = "Sorry, the computer won the game!";
          output.textContent = resultat;
          resetGame();
        }
        output = document.getElementById("output");

        output.textContent = resultat;
      }

      function resetGame() {
        humanScore = 0;
        computerScore = 0;
        console.log("The game has been reset.");
      }
    </script>
  </body>
</html>
